# Project Template

The objective of this template is to provide a clean and organized environment from which to start up projects in applied economics. I have designed this template with the intention of using R within VS Code, though it can be easily adapted to other environments and languages.

For general advice on data science workflow, see the following pages:

- Brendan M. Price's Resources for PhD Students: https://www.brendanmichaelprice.com/resources/grad/
- Jenny Bryan's article on project-oriented workflow (with a useful explainer of the `here` package): https://www.tidyverse.org/blog/2017/12/workflow-vs-script/
- Arthur Turrell's *Coding for Economists*: https://aeturrell.github.io/coding-for-economists/intro.html
- *Introduction to Econometrics with R* by Hanck, Arnold, Gerber, and Schmelzer: https://www.econometrics-with-r.org/

## File Structure
Credit for the general structure of this project goes to [Brendan M. Price](https://www.brendanmichaelprice.com/workflow/).

Note: the `.gitkeep` files are placeholders used to maintain the file structure within GitHub. Feel free to delete them once you have real files in their folders.

### Code
- `code/build` (data preparation)
- `code/check` (data validation)
- `code/learn` (exploratory analysis)
- `code/libraries` (external libraries used in code)
- `code/share` (public-facing analysis)

### Data
Included in .gitignore. Raw data is stored on the cloud elsewhere (ex: Dropbox, Onedrive) and copied into local directories as needed due to GitHub's file size restrictions. Derived data can be produced using the included code files.
- `data/raw` (data as it was acquired)
- `data/derived` (anything created in the project)

### Output
- `output/learn` (outputs of exploratory analysis)
- `output/share` (outputs of public-facing analysis)

### Paper
LaTeX files and pdfs.

### Renv
Generated by the [`renv` package](https://rstudio.github.io/renv/index.html). Creates reproducible environments for R projects.

When a new user opens this project, renv will automatically bootstrap itself, downloading and installing the appropriate version. It will also ask the user if they want to download and install all project-necessary packages using `renv::restore()`.

#### Important Commands:

- `renv::init()` has already been run once to generate necessary folders and files for this project. Likely doesn't need to run again unless something goes wrong.
- `renv::snapshot()` updates the lockfile with metadata about the currently-used packages in the project library. Run this any time after you add or remove a `library()` call in the code.
- `renv::restore()` reproduces the current environment: uses the metadata from the lockfile to install exactly the same version of every package.
- `renv::install()` installs packages much like `install.packages()`, but can also install packages from GitHub, Bioconductor, and more.
- `renv::update()` gets the latest version of all dependencies.

### Other Files
- `.Rprofile` is used by the `renv` package.
- `.gitignore` tells git which files to exclude from tracking (for example, the `data` folder).
- `.lintr` sets rules for [lintr](https://lintr.r-lib.org/), which provides diagnostics for code in R. I have set this up to exclude many trivial warnings such as trailing blank lines.
- `LICENSE.txt` is an example license, adapted from the [replication package](https://www.openicpsr.org/openicpsr/project/136761/version/V1/view) for "Disability Insurance in the Great Recession: Ease of Access, Program Enrollment, and Local Hysteresis" by Kearney et al. It is also the license recommended by the [AEA](https://www.aeaweb.org/journals/data/faq#lic).
- `README.md` is this file.
- `renv.lock` is the lockfile used by the `renv` package (described above).

## Setting Up VS Code for R
- VS Code's Documentation, very helpful: https://code.visualstudio.com/docs/languages/r
- Documentation for the R Editor Extension: https://github.com/REditorSupport/vscode-R
- See Daniel LÃ¼decke's articles for recommended extensions, keybindings, and other tips: https://gist.github.com/strengejacke/82e8d7b869bd9f961d12b4091c145b88
- Guide to installing LaTeX with previews and autocomplete for VSCode: https://blog.jakelee.co.uk/getting-latex-working-in-vscode-on-windows/
    - I followed this process as described, except I installed the [MiKTeX](https://miktex.org/) distribution instead of the TeX Live distribution. I found the installation process to be easier, and MiKTeX can do "on the fly" package installation.
    - When you first attempt to compile a .tex file into a PDF, MiKTeX will prompt you to install `latexmk`. Do so. This package requires an installation of Perl, which may not be installed on your machine. See [the latexmk documentation](https://mg.readthedocs.io/latexmk.html) for information on how to fix this.

## Why Use VS Code?
RStudio is also great (and it has an easier learning curve). I am switching my workflow to VS Code for the following reasons:

1. Excellent GitHub integration (see [here](https://vscode.github.com/))
2. Can easily switch between common research tasks and programming languages without changing environments. With the right extensions you can edit code, write in LaTeX, view PDFs, and browse excel/csv files, all without leaving VS Code. It also supports Python in case that is preferred for the task at hand.

<!---
Helpful note to self: (Ctrl+K V) opens a markdown preview side-by-side with the editor in VS Code.
-->